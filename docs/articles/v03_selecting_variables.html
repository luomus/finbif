<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Selecting and ordering variables • finbif</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Selecting and ordering variables">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">finbif</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.9.11</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/finbif.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/v02_occurrence_data.html">Occurrence records from FinBIF</a></li>
    <li><a class="dropdown-item" href="../articles/v03_selecting_variables.html">Selecting and ordering variables</a></li>
    <li><a class="dropdown-item" href="../articles/v04_metadata.html">Metadata</a></li>
    <li><a class="dropdown-item" href="../articles/v05_filtering.html">Filtering occurrence records</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/luomus/finbif/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Selecting and ordering variables</h1>
                        <h4 data-toc-skip class="author">William K.
Morris</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/luomus/finbif/blob/HEAD/vignettes/v03_selecting_variables.Rmd" class="external-link"><code>vignettes/v03_selecting_variables.Rmd</code></a></small>
      <div class="d-none name"><code>v03_selecting_variables.Rmd</code></div>
    </div>

    
    
<p>When requesting data using <a href="https://github.com/luomus/finbif" class="external-link">finbif</a> you can select from
among (or order by) many variables (properties of the occurrence
records). The default set of variables returned is a small subset of
those available. Note that not all variables are available for all
records. See <code><a href="../reference/variables.html">?variables</a></code> for details.</p>
<div class="section level2">
<h2 id="selecting-variables">Selecting variables<a class="anchor" aria-label="anchor" href="#selecting-variables"></a>
</h2>
<div class="section level3">
<h3 id="limiting-variables">Limiting variables<a class="anchor" aria-label="anchor" href="#limiting-variables"></a>
</h3>
<p>To retrieve a limited set of variables from FinBIF simply specify the
desired variables in the <code>select</code> argument.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/finbif_occurrence.html">finbif_occurrence</a></span><span class="op">(</span></span>
<span>  genus  <span class="op">=</span> <span class="st">"Falco"</span>,</span>
<span>  select <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"scientific_name"</span>, <span class="st">"life_stage"</span>, <span class="st">"sex"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<details closed><summary>
Click to show/hide output.
</summary><div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co">#&gt; Records downloaded: 10</span></span>
<span><span class="co">#&gt; Records available: 342668</span></span>
<span><span class="co">#&gt; A data.frame [10 x 3]</span></span>
<span><span class="co">#&gt;         scientific_name life_stage sex</span></span>
<span><span class="co">#&gt; 1  Falco columbarius L…         NA  NA</span></span>
<span><span class="co">#&gt; 2  Falco tinnunculus L…         NA  NA</span></span>
<span><span class="co">#&gt; 3  Falco tinnunculus L…         NA  NA</span></span>
<span><span class="co">#&gt; 4  Falco subbuteo Linn…         NA  NA</span></span>
<span><span class="co">#&gt; 5  Falco tinnunculus L…         NA  NA</span></span>
<span><span class="co">#&gt; 6  Falco subbuteo Linn…         NA  NA</span></span>
<span><span class="co">#&gt; 7  Falco tinnunculus L…         NA  NA</span></span>
<span><span class="co">#&gt; 8  Falco tinnunculus L…         NA  NA</span></span>
<span><span class="co">#&gt; 9  Falco tinnunculus L…         NA  NA</span></span>
<span><span class="co">#&gt; 10 Falco subbuteo Linn…         NA  NA</span></span></code></pre></div>
</details><p><br></p>
</div>
<div class="section level3">
<h3 id="extra-variables">Extra variables<a class="anchor" aria-label="anchor" href="#extra-variables"></a>
</h3>
<p>To get extra variables as well as the default set, specify the extra
variables in addition to the keyword <code>"default_vars"</code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/finbif_occurrence.html">finbif_occurrence</a></span><span class="op">(</span>select <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"default_vars"</span>, <span class="st">"life_stage"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<details closed><summary>
Click to show/hide output.
</summary><div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co">#&gt; Records downloaded: 10</span></span>
<span><span class="co">#&gt; Records available: 47159747</span></span>
<span><span class="co">#&gt; A data.frame [10 x 13]</span></span>
<span><span class="co">#&gt;                                 record_id      scientific_name abundance lat_wgs84 lon_wgs84</span></span>
<span><span class="co">#&gt; 1                           …JX.1594385#3 Sciurus vulgaris Li…  1         60.23584  25.05693</span></span>
<span><span class="co">#&gt; 2  …KE.176/64895825d5de884fa20e297d#Unit1 Heracleum persicum …        NA  61.08302  22.38983</span></span>
<span><span class="co">#&gt; 3                           …JX.1594382#9 Hirundo rustica Lin…        NA  64.12716  23.99111</span></span>
<span><span class="co">#&gt; 4                          …JX.1594382#37 Pica pica (Linnaeus…        NA  64.12716  23.99111</span></span>
<span><span class="co">#&gt; 5                          …JX.1594382#49 Muscicapa striata (…        NA  64.12716  23.99111</span></span>
<span><span class="co">#&gt; 6                          …JX.1594382#39 Larus canus Linnaeu…        NA  64.12716  23.99111</span></span>
<span><span class="co">#&gt; 7                           …JX.1594382#5 Emberiza citrinella…        NA  64.12716  23.99111</span></span>
<span><span class="co">#&gt; 8                          …JX.1594382#31 Ficedula hypoleuca …        NA  64.12716  23.99111</span></span>
<span><span class="co">#&gt; 9                          …JX.1594382#41 Alauda arvensis Lin…        NA  64.12716  23.99111</span></span>
<span><span class="co">#&gt; 10                         …JX.1594382#21 Numenius arquata (L…        NA  64.12716  23.99111</span></span>
<span><span class="co">#&gt; ...with 0 more record and 8 more variables:</span></span>
<span><span class="co">#&gt; date_time, coordinates_uncertainty, any_issues, requires_verification, requires_identification,</span></span>
<span><span class="co">#&gt; record_reliability, record_quality, life_stage</span></span></code></pre></div>
</details><p><br></p>
</div>
</div>
<div class="section level2">
<h2 id="ordering">Ordering<a class="anchor" aria-label="anchor" href="#ordering"></a>
</h2>
<p>You can change the order of occurrence records before they are
fetched from the server by using the <code>order_by</code> argument. The
default ordering is <code>date_start</code> descending, then
<code>load_date</code> descending, then <code>reported_name</code>.</p>
<div class="section level3">
<h3 id="ascending-order">Ascending order<a class="anchor" aria-label="anchor" href="#ascending-order"></a>
</h3>
<p>By default occurrence records are ordered by variables in ascending
order.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/finbif_occurrence.html">finbif_occurrence</a></span><span class="op">(</span><span class="st">"Cygnus cygnus"</span>, order_by <span class="op">=</span> <span class="st">"abundance"</span><span class="op">)</span></span></code></pre></div>
<details closed><summary>
Click to show/hide output.
</summary><div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co">#&gt; Records downloaded: 10</span></span>
<span><span class="co">#&gt; Records available: 95730</span></span>
<span><span class="co">#&gt; A data.frame [10 x 12]</span></span>
<span><span class="co">#&gt;                     record_id      scientific_name abundance lat_wgs84 lon_wgs84</span></span>
<span><span class="co">#&gt; 1         …KE.67/9403350#Unit Cygnus cygnus (Linn…  1         60.41667  16      </span></span>
<span><span class="co">#&gt; 2  …HR.3691/OBS810893905_Unit Cygnus cygnus (Linn…        NA  61.56563  29.56771</span></span>
<span><span class="co">#&gt; 3             …JX.1026351#259 Cygnus cygnus (Linn…  1         65.89416  28.90961</span></span>
<span><span class="co">#&gt; 4               …JX.1025175#3 Cygnus cygnus (Linn…  1         61.83248  23.40816</span></span>
<span><span class="co">#&gt; 5         …KE.67/9069501#Unit Cygnus cygnus (Linn…  1         52.71667  1.55    </span></span>
<span><span class="co">#&gt; 6               …JX.1252188#3 Cygnus cygnus (Linn…        NA  60.17258  24.27095</span></span>
<span><span class="co">#&gt; 7         …KE.67/9465507#Unit Cygnus cygnus (Linn…  1         61.8      22.76667</span></span>
<span><span class="co">#&gt; 8         …KE.67/9607357#Unit Cygnus cygnus (Linn…  1         63.13333  22.43333</span></span>
<span><span class="co">#&gt; 9               …MHU.10961285 Cygnus cygnus (Linn…        NA  64.97813  24.74932</span></span>
<span><span class="co">#&gt; 10 …HR.3691/OBS886590077_Unit Cygnus cygnus (Linn…        NA  61.27566  22.557  </span></span>
<span><span class="co">#&gt;              date_time</span></span>
<span><span class="co">#&gt; 1  1997-04-01 13:00:00</span></span>
<span><span class="co">#&gt; 2  2007-05-18 12:00:00</span></span>
<span><span class="co">#&gt; 3  2013-06-24 03:12:00</span></span>
<span><span class="co">#&gt; 4  2014-06-08 03:45:00</span></span>
<span><span class="co">#&gt; 5  1997-01-03 14:00:00</span></span>
<span><span class="co">#&gt; 6  2021-05-23 06:15:00</span></span>
<span><span class="co">#&gt; 7  2000-03-22 12:00:00</span></span>
<span><span class="co">#&gt; 8  2003-06-07 12:00:00</span></span>
<span><span class="co">#&gt; 9  2008-07-12 12:00:00</span></span>
<span><span class="co">#&gt; 10 2020-03-31 12:00:00</span></span>
<span><span class="co">#&gt; ...with 0 more record and 6 more variables:</span></span>
<span><span class="co">#&gt; coordinates_uncertainty, any_issues, requires_verification, requires_identification,</span></span>
<span><span class="co">#&gt; record_reliability, record_quality</span></span></code></pre></div>
</details><p><br></p>
</div>
<div class="section level3">
<h3 id="descending-order">Descending order<a class="anchor" aria-label="anchor" href="#descending-order"></a>
</h3>
<p>You can switch to descending order by prefixing the variable with a
dash.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/finbif_occurrence.html">finbif_occurrence</a></span><span class="op">(</span><span class="st">"Cygnus cygnus"</span>, order_by <span class="op">=</span> <span class="st">"-abundance"</span><span class="op">)</span></span></code></pre></div>
<details closed><summary>
Click to show/hide output.
</summary><div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co">#&gt; Records downloaded: 10</span></span>
<span><span class="co">#&gt; Records available: 95730</span></span>
<span><span class="co">#&gt; A data.frame [10 x 12]</span></span>
<span><span class="co">#&gt;                      record_id      scientific_name abundance lat_wgs84 lon_wgs84</span></span>
<span><span class="co">#&gt; 1                 …MHU.2981587 Cygnus cygnus (Linn…  6000      64.4     -14.54   </span></span>
<span><span class="co">#&gt; 2  …HR.3691/OBS1101526155_Unit Cygnus cygnus (Linn…  1760      62.16389  21.45786</span></span>
<span><span class="co">#&gt; 3   …HR.3691/OBS604642304_Unit Cygnus cygnus (Linn…  1753      64.50736  24.27894</span></span>
<span><span class="co">#&gt; 4   …HR.3691/OBS663568887_Unit Cygnus cygnus (Linn…  1600      65.98787  24.06341</span></span>
<span><span class="co">#&gt; 5                …MHU.28815250 Cygnus cygnus (Linn…  1500            NA        NA</span></span>
<span><span class="co">#&gt; 6   …HR.3691/OBS671353848_Unit Cygnus cygnus (Linn…  1361      64.71656  24.53188</span></span>
<span><span class="co">#&gt; 7                …JX.1357345#5 Cygnus cygnus (Linn…  1300      64.8465   25.2883 </span></span>
<span><span class="co">#&gt; 8                …JX.1398409#3 Cygnus cygnus (Linn…  1280      64.8448   25.2816 </span></span>
<span><span class="co">#&gt; 9                …MHU.28815110 Cygnus cygnus (Linn…  1200            NA        NA</span></span>
<span><span class="co">#&gt; 10 …HR.3691/OBS1119137190_Unit Cygnus cygnus (Linn…  1163      64.71656  24.53188</span></span>
<span><span class="co">#&gt; ...with 0 more record and 7 more variables:</span></span>
<span><span class="co">#&gt; date_time, coordinates_uncertainty, any_issues, requires_verification, requires_identification,</span></span>
<span><span class="co">#&gt; record_reliability, record_quality</span></span></code></pre></div>
</details><p><br></p>
</div>
<div class="section level3">
<h3 id="multiple-variables">Multiple variables<a class="anchor" aria-label="anchor" href="#multiple-variables"></a>
</h3>
<p>You can specify multiple variables to order by. Sorting primacy is
from left to right.</p>
<pre class="details"><code><span><span class="fu"><a href="../reference/finbif_occurrence.html">finbif_occurrence</a></span><span class="op">(</span></span>
<span>  <span class="st">"Cygnus olor"</span>, order_by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"finnish_municipality_id"</span>, <span class="st">"-abundance"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre>
<details closed><summary>
Click to show/hide output.
</summary><div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co">#&gt; Records downloaded: 10</span></span>
<span><span class="co">#&gt; Records available: 56359</span></span>
<span><span class="co">#&gt; A data.frame [10 x 12]</span></span>
<span><span class="co">#&gt;    record_id      scientific_name abundance lat_wgs84 lon_wgs84           date_time</span></span>
<span><span class="co">#&gt; 1  …12015253 Cygnus olor (J.F. G…  2500            NA        NA 2008-08-17 12:00:00</span></span>
<span><span class="co">#&gt; 2  …13633876 Cygnus olor (J.F. G…  1500            NA        NA 2008-10-03 12:00:00</span></span>
<span><span class="co">#&gt; 3    …780984 Cygnus olor (J.F. G…  1300            NA        NA 2006-02-14 12:00:00</span></span>
<span><span class="co">#&gt; 4    …781416 Cygnus olor (J.F. G…  1300            NA        NA 2006-02-14 12:00:00</span></span>
<span><span class="co">#&gt; 5   …2062563 Cygnus olor (J.F. G…  1200            NA        NA 2006-12-19 12:00:00</span></span>
<span><span class="co">#&gt; 6  …10352894 Cygnus olor (J.F. G…  1100            NA        NA 2008-06-28 12:00:00</span></span>
<span><span class="co">#&gt; 7    …927797 Cygnus olor (J.F. G…  1050            NA        NA 2006-04-05 12:00:00</span></span>
<span><span class="co">#&gt; 8   …3110953 Cygnus olor (J.F. G…  960             NA        NA 2007-10-06 12:00:00</span></span>
<span><span class="co">#&gt; 9  …26309317 Cygnus olor (J.F. G…  900             NA        NA 2009-07-08 12:00:00</span></span>
<span><span class="co">#&gt; 10  …1260385 Cygnus olor (J.F. G…  800       58.66     23.57    2006-04-26 18:00:00</span></span>
<span><span class="co">#&gt; ...with 0 more record and 6 more variables:</span></span>
<span><span class="co">#&gt; coordinates_uncertainty, any_issues, requires_verification, requires_identification,</span></span>
<span><span class="co">#&gt; record_reliability, record_quality</span></span></code></pre></div>
</details><p><br></p>
</div>
<div class="section level3">
<h3 id="random-sample">Random sample<a class="anchor" aria-label="anchor" href="#random-sample"></a>
</h3>
<p>You can also request a random sample (random order) of occurrence
records by setting the <code>sample</code> argument to
<code>TRUE</code>.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/finbif_occurrence.html">finbif_occurrence</a></span><span class="op">(</span>sample <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<details closed><summary>
Click to show/hide output.
</summary><div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co">#&gt; Records downloaded: 10</span></span>
<span><span class="co">#&gt; Records available: 47159747</span></span>
<span><span class="co">#&gt; A data.frame [10 x 12]</span></span>
<span><span class="co">#&gt;                      record_id      scientific_name abundance lat_wgs84 lon_wgs84</span></span>
<span><span class="co">#&gt; 1          …KE.67/5632630#Unit Ficedula hypoleuca …  1         61.74637  22.77479</span></span>
<span><span class="co">#&gt; 2                   …MHU.40397      Prunus padus L.        NA  60.28016  20.25637</span></span>
<span><span class="co">#&gt; 3                 …JX.775148#3 Yezognophos vittari…  1         60.44245  27.006  </span></span>
<span><span class="co">#&gt; 4         …KE.67/11580538#Unit Cyanistes caeruleus…  1         60.32754  24.64944</span></span>
<span><span class="co">#&gt; 5                …JX.328070#23 Pechipogo strigilat…        NA  61.54883  21.64192</span></span>
<span><span class="co">#&gt; 6   …HR.3691/OBS889952298_Unit Parus major Linnaeu…  5         66.6165   24.68816</span></span>
<span><span class="co">#&gt; 7               …JX.1025818#50 Garrulus glandarius…  1         63.43302  27.74526</span></span>
<span><span class="co">#&gt; 8  …HR.3691/OBS1104249688_Unit Alauda arvensis Lin…        NA  60.05577  24.06798</span></span>
<span><span class="co">#&gt; 9          …KE.67/8616657#Unit Cyanistes caeruleus…  1         61.5      24.83333</span></span>
<span><span class="co">#&gt; 10                …JX.101375#9 Poecile montanus (C…  7         63.09517  23.1341 </span></span>
<span><span class="co">#&gt; ...with 0 more record and 7 more variables:</span></span>
<span><span class="co">#&gt; date_time, coordinates_uncertainty, any_issues, requires_verification, requires_identification,</span></span>
<span><span class="co">#&gt; record_reliability, record_quality</span></span></code></pre></div>
</details><p><br></p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by William K. Morris.</p>
</div>
<div class="pkgdown-footer-left">
  <p></p>
  <p><a class="external-link" href="https://www.netlify.com"><img src="https://www.netlify.com/img/global/badges/netlify-light.svg" alt="Deploys by Netlify"></a></p>
</div>
<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
