<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Introduction to the finbif package • finbif</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to the finbif package">
<meta property="og:description" content="">
<meta property="og:image" content="/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">finbif</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.0.9001</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/finbif.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/v02_filtering.html">Filtering FinBIF records</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/luomus/finbif">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Introduction to the finbif package</h1>
                        <h4 class="author">William K. Morris</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/luomus/finbif/blob/master/vignettes/finbif.Rmd"><code>vignettes/finbif.Rmd</code></a></small>
      <div class="hidden name"><code>finbif.Rmd</code></div>

    </div>

    
    
<p>FinBIF aggregates Finnish biodiversity data from multiple sources in a single open access portal for researchers, citizen scientists, industry and government. FinBIF allows users of biodiversity information to find, access, combine and visualise data on Finnish plants, animals and microorganisms. The <code>finbif</code> R package makes the publicly available data in FinBIF easily accessible to programmers. Biodiversity information is available on taxonomy and taxon occurrence. Occurrence data can be filtered by taxon, time, location and other variables. The data accessed are conveniently preformatted for subsequent analyses.</p>
<div id="installing-the-finbif-package" class="section level2">
<h2 class="hasAnchor">
<a href="#installing-the-finbif-package" class="anchor"></a>Installing the finbif package</h2>
<p>You can install the current stable version of <code>finbif</code> from <a href="https://cran.r-project.org">CRAN</a>,</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span>(<span class="st">"finbif"</span>)</a></code></pre></div>
<p>You can also install the latest development version of <code>finbif</code> from <a href="https://github.com">GitHub</a>,</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">remotes<span class="op">::</span><span class="kw"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span>(<span class="st">"luomus/finbif@dev"</span>)</a></code></pre></div>
</div>
<div id="loading-the-finbif-package" class="section level2">
<h2 class="hasAnchor">
<a href="#loading-the-finbif-package" class="anchor"></a>Loading the finbif package</h2>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(finbif)</a></code></pre></div>
</div>
<div id="getting-a-finbif-access-token" class="section level2">
<h2 class="hasAnchor">
<a href="#getting-a-finbif-access-token" class="anchor"></a>Getting a FinBIF access token</h2>
<p>To use the FinBIF API you must first request and set a personal access token. You can request an API token to be sent to your email address with the function <code>finbif_get_token</code>.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw"><a href="../reference/finbif_request_token.html">finbif_request_token</a></span>(<span class="st">"your@email.com"</span>)</a></code></pre></div>
<p>Copy the access token that was sent to your email and set it as the environment variable <code>FINBIF_ACCESS_TOKEN</code> either for the current session,</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/Sys.setenv.html">Sys.setenv</a></span>(</a>
<a class="sourceLine" id="cb5-2" data-line-number="2">  <span class="dt">FINBIF_ACCESS_TOKEN =</span> <span class="st">"xtmSOIxjPwq0pOMB1WvcZgFLU9QBklauOlonWl8K5oaLIx8RniJLrvcJU4v9H7Et"</span></a>
<a class="sourceLine" id="cb5-3" data-line-number="3">)</a>
<a class="sourceLine" id="cb5-4" data-line-number="4"><span class="co"># Note: the above is not a real access token. Do not try using it.</span></a></code></pre></div>
<p>, or by adding it to a <code>Renviron</code> startup file (see <a href="https://rviews.rstudio.com/2017/04/19/r-for-enterprise-understanding-r-s-startup/">here</a> for details).</p>
</div>
<div id="working-with-taxa" class="section level2">
<h2 class="hasAnchor">
<a href="#working-with-taxa" class="anchor"></a>Working with taxa</h2>
<p>You can check to see if a taxon exists in the FinBIF database.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="kw"><a href="../reference/finbif_check_taxa.html">finbif_check_taxa</a></span>(<span class="st">"Ursus arctos"</span>)</a>
<a class="sourceLine" id="cb6-2" data-line-number="2"><span class="co">#&gt; [Ursus arctos] ID: MX.47348</span></a></code></pre></div>
<p>If the taxon is in the FinBIF database its unique ID is returned. When a taxon is not in the FinBIF database it is reported as “not found” and for that taxa the list element is <code>NA</code>.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">(taxa &lt;-<span class="st"> </span><span class="kw"><a href="../reference/finbif_check_taxa.html">finbif_check_taxa</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"Ursus arctos"</span>, <span class="st">"Moomin"</span>)))</a>
<a class="sourceLine" id="cb7-2" data-line-number="2"><span class="co">#&gt; [Ursus arctos] ID: MX.47348</span></a>
<a class="sourceLine" id="cb7-3" data-line-number="3"><span class="co">#&gt; [Moomin      ] Not found</span></a>
<a class="sourceLine" id="cb7-4" data-line-number="4">taxa[[<span class="dv">1</span>]]</a>
<a class="sourceLine" id="cb7-5" data-line-number="5"><span class="co">#&gt; Ursus arctos </span></a>
<a class="sourceLine" id="cb7-6" data-line-number="6"><span class="co">#&gt;   "MX.47348"</span></a>
<a class="sourceLine" id="cb7-7" data-line-number="7">taxa[[<span class="dv">2</span>]]</a>
<a class="sourceLine" id="cb7-8" data-line-number="8"><span class="co">#&gt; Moomin </span></a>
<a class="sourceLine" id="cb7-9" data-line-number="9"><span class="co">#&gt;     NA</span></a></code></pre></div>
<p>You can also specify the taxonomic rank when searching FinBIF and the search will be limited to the specified rank.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="kw"><a href="../reference/finbif_check_taxa.html">finbif_check_taxa</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">species =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"Ursus arctos"</span>, <span class="st">"Ursus"</span>), <span class="dt">genus =</span> <span class="st">"Ursus"</span>))</a>
<a class="sourceLine" id="cb8-2" data-line-number="2"><span class="co">#&gt; [species: Ursus arctos] ID: MX.47348</span></a>
<a class="sourceLine" id="cb8-3" data-line-number="3"><span class="co">#&gt; [species: Ursus       ] Not found</span></a>
<a class="sourceLine" id="cb8-4" data-line-number="4"><span class="co">#&gt; [genus:   Ursus       ] ID: MX.51311</span></a></code></pre></div>
<p>The function <code><a href="../reference/finbif_taxa.html">finbif_taxa()</a></code> can be used for a more general search for taxa in the FinBIF database. Searches can be <code>exact</code>, <code>partial</code> or <code>likely</code> (fuzzy matching). Information for a single taxon is returned when using exact or fuzzy matching, but multiple taxa, up to a limit, <code>n</code>, may be returned when using partial matching.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1">birch_search &lt;-<span class="st"> </span><span class="kw"><a href="../reference/finbif_taxa.html">finbif_taxa</a></span>(<span class="st">"Betula pendula"</span>, <span class="dv">2</span>, <span class="st">"partial"</span>)</a>
<a class="sourceLine" id="cb9-2" data-line-number="2">birch_search<span class="op">$</span>content</a></code></pre></div>
<details closed><p><summary> Click to show/hide output. </summary></p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1"></a>
<a class="sourceLine" id="cb10-2" data-line-number="2">[[<span class="dv">1</span>]]</a>
<a class="sourceLine" id="cb10-3" data-line-number="3">[[<span class="dv">1</span>]]<span class="op">$</span>matchingName</a>
<a class="sourceLine" id="cb10-4" data-line-number="4">[<span class="dv">1</span>] <span class="st">"Betula pendula var. pendula"</span></a>
<a class="sourceLine" id="cb10-5" data-line-number="5"></a>
<a class="sourceLine" id="cb10-6" data-line-number="6">[[<span class="dv">1</span>]]<span class="op">$</span>nameType</a>
<a class="sourceLine" id="cb10-7" data-line-number="7">[<span class="dv">1</span>] <span class="st">"MX.scientificName"</span></a>
<a class="sourceLine" id="cb10-8" data-line-number="8"></a>
<a class="sourceLine" id="cb10-9" data-line-number="9">[[<span class="dv">1</span>]]<span class="op">$</span>id</a>
<a class="sourceLine" id="cb10-10" data-line-number="10">[<span class="dv">1</span>] <span class="st">"MX.37994"</span></a>
<a class="sourceLine" id="cb10-11" data-line-number="11"></a>
<a class="sourceLine" id="cb10-12" data-line-number="12">[[<span class="dv">1</span>]]<span class="op">$</span>scientificName</a>
<a class="sourceLine" id="cb10-13" data-line-number="13">[<span class="dv">1</span>] <span class="st">"Betula pendula var. pendula"</span></a>
<a class="sourceLine" id="cb10-14" data-line-number="14"></a>
<a class="sourceLine" id="cb10-15" data-line-number="15">[[<span class="dv">1</span>]]<span class="op">$</span>taxonRank</a>
<a class="sourceLine" id="cb10-16" data-line-number="16">[<span class="dv">1</span>] <span class="st">"MX.variety"</span></a>
<a class="sourceLine" id="cb10-17" data-line-number="17"></a>
<a class="sourceLine" id="cb10-18" data-line-number="18">[[<span class="dv">1</span>]]<span class="op">$</span>cursiveName</a>
<a class="sourceLine" id="cb10-19" data-line-number="19">[<span class="dv">1</span>] <span class="ot">TRUE</span></a>
<a class="sourceLine" id="cb10-20" data-line-number="20"></a>
<a class="sourceLine" id="cb10-21" data-line-number="21">[[<span class="dv">1</span>]]<span class="op">$</span>finnish</a>
<a class="sourceLine" id="cb10-22" data-line-number="22">[<span class="dv">1</span>] <span class="ot">TRUE</span></a>
<a class="sourceLine" id="cb10-23" data-line-number="23"></a>
<a class="sourceLine" id="cb10-24" data-line-number="24">[[<span class="dv">1</span>]]<span class="op">$</span>species</a>
<a class="sourceLine" id="cb10-25" data-line-number="25">[<span class="dv">1</span>] <span class="ot">TRUE</span></a>
<a class="sourceLine" id="cb10-26" data-line-number="26"></a>
<a class="sourceLine" id="cb10-27" data-line-number="27">[[<span class="dv">1</span>]]<span class="op">$</span>vernacularName</a>
<a class="sourceLine" id="cb10-28" data-line-number="28">[[<span class="dv">1</span>]]<span class="op">$</span>vernacularName<span class="op">$</span>fi</a>
<a class="sourceLine" id="cb10-29" data-line-number="29">[<span class="dv">1</span>] <span class="st">"vihtakoivu"</span></a>
<a class="sourceLine" id="cb10-30" data-line-number="30"></a>
<a class="sourceLine" id="cb10-31" data-line-number="31">[[<span class="dv">1</span>]]<span class="op">$</span>vernacularName<span class="op">$</span>sv</a>
<a class="sourceLine" id="cb10-32" data-line-number="32">[<span class="dv">1</span>] <span class="st">"vanlig vårtbjörk"</span></a>
<a class="sourceLine" id="cb10-33" data-line-number="33"></a>
<a class="sourceLine" id="cb10-34" data-line-number="34"></a>
<a class="sourceLine" id="cb10-35" data-line-number="35">[[<span class="dv">1</span>]]<span class="op">$</span>informalGroups</a>
<a class="sourceLine" id="cb10-36" data-line-number="36">[[<span class="dv">1</span>]]<span class="op">$</span>informalGroups[[<span class="dv">1</span>]]</a>
<a class="sourceLine" id="cb10-37" data-line-number="37">[[<span class="dv">1</span>]]<span class="op">$</span>informalGroups[[<span class="dv">1</span>]]<span class="op">$</span>id</a>
<a class="sourceLine" id="cb10-38" data-line-number="38">[<span class="dv">1</span>] <span class="st">"MVL.343"</span></a>
<a class="sourceLine" id="cb10-39" data-line-number="39"></a>
<a class="sourceLine" id="cb10-40" data-line-number="40">[[<span class="dv">1</span>]]<span class="op">$</span>informalGroups[[<span class="dv">1</span>]]<span class="op">$</span>name</a>
<a class="sourceLine" id="cb10-41" data-line-number="41">[[<span class="dv">1</span>]]<span class="op">$</span>informalGroups[[<span class="dv">1</span>]]<span class="op">$</span>name<span class="op">$</span>en</a>
<a class="sourceLine" id="cb10-42" data-line-number="42">[<span class="dv">1</span>] <span class="st">"Vascular plants"</span></a>
<a class="sourceLine" id="cb10-43" data-line-number="43"></a>
<a class="sourceLine" id="cb10-44" data-line-number="44">[[<span class="dv">1</span>]]<span class="op">$</span>informalGroups[[<span class="dv">1</span>]]<span class="op">$</span>name<span class="op">$</span>fi</a>
<a class="sourceLine" id="cb10-45" data-line-number="45">[<span class="dv">1</span>] <span class="st">"Putkilokasvit"</span></a>
<a class="sourceLine" id="cb10-46" data-line-number="46"></a>
<a class="sourceLine" id="cb10-47" data-line-number="47">[[<span class="dv">1</span>]]<span class="op">$</span>informalGroups[[<span class="dv">1</span>]]<span class="op">$</span>name<span class="op">$</span>sv</a>
<a class="sourceLine" id="cb10-48" data-line-number="48">[<span class="dv">1</span>] <span class="st">"Kärlväxter"</span></a>
<a class="sourceLine" id="cb10-49" data-line-number="49"></a>
<a class="sourceLine" id="cb10-50" data-line-number="50"></a>
<a class="sourceLine" id="cb10-51" data-line-number="51"></a>
<a class="sourceLine" id="cb10-52" data-line-number="52"></a>
<a class="sourceLine" id="cb10-53" data-line-number="53">[[<span class="dv">1</span>]]<span class="op">$</span>type</a>
<a class="sourceLine" id="cb10-54" data-line-number="54">[<span class="dv">1</span>] <span class="st">"partialMatches"</span></a>
<a class="sourceLine" id="cb10-55" data-line-number="55"></a>
<a class="sourceLine" id="cb10-56" data-line-number="56"></a>
<a class="sourceLine" id="cb10-57" data-line-number="57">[[<span class="dv">2</span>]]</a>
<a class="sourceLine" id="cb10-58" data-line-number="58">[[<span class="dv">2</span>]]<span class="op">$</span>matchingName</a>
<a class="sourceLine" id="cb10-59" data-line-number="59">[<span class="dv">1</span>] <span class="st">"Betula pendula var. carelica"</span></a>
<a class="sourceLine" id="cb10-60" data-line-number="60"></a>
<a class="sourceLine" id="cb10-61" data-line-number="61">[[<span class="dv">2</span>]]<span class="op">$</span>nameType</a>
<a class="sourceLine" id="cb10-62" data-line-number="62">[<span class="dv">1</span>] <span class="st">"MX.scientificName"</span></a>
<a class="sourceLine" id="cb10-63" data-line-number="63"></a>
<a class="sourceLine" id="cb10-64" data-line-number="64">[[<span class="dv">2</span>]]<span class="op">$</span>id</a>
<a class="sourceLine" id="cb10-65" data-line-number="65">[<span class="dv">1</span>] <span class="st">"MX.37997"</span></a>
<a class="sourceLine" id="cb10-66" data-line-number="66"></a>
<a class="sourceLine" id="cb10-67" data-line-number="67">[[<span class="dv">2</span>]]<span class="op">$</span>scientificName</a>
<a class="sourceLine" id="cb10-68" data-line-number="68">[<span class="dv">1</span>] <span class="st">"Betula pendula var. carelica"</span></a>
<a class="sourceLine" id="cb10-69" data-line-number="69"></a>
<a class="sourceLine" id="cb10-70" data-line-number="70">[[<span class="dv">2</span>]]<span class="op">$</span>scientificNameAuthorship</a>
<a class="sourceLine" id="cb10-71" data-line-number="71">[<span class="dv">1</span>] <span class="st">"(Merckl.) Hämet-Ahti"</span></a>
<a class="sourceLine" id="cb10-72" data-line-number="72"></a>
<a class="sourceLine" id="cb10-73" data-line-number="73">[[<span class="dv">2</span>]]<span class="op">$</span>taxonRank</a>
<a class="sourceLine" id="cb10-74" data-line-number="74">[<span class="dv">1</span>] <span class="st">"MX.variety"</span></a>
<a class="sourceLine" id="cb10-75" data-line-number="75"></a>
<a class="sourceLine" id="cb10-76" data-line-number="76">[[<span class="dv">2</span>]]<span class="op">$</span>cursiveName</a>
<a class="sourceLine" id="cb10-77" data-line-number="77">[<span class="dv">1</span>] <span class="ot">TRUE</span></a>
<a class="sourceLine" id="cb10-78" data-line-number="78"></a>
<a class="sourceLine" id="cb10-79" data-line-number="79">[[<span class="dv">2</span>]]<span class="op">$</span>finnish</a>
<a class="sourceLine" id="cb10-80" data-line-number="80">[<span class="dv">1</span>] <span class="ot">TRUE</span></a>
<a class="sourceLine" id="cb10-81" data-line-number="81"></a>
<a class="sourceLine" id="cb10-82" data-line-number="82">[[<span class="dv">2</span>]]<span class="op">$</span>species</a>
<a class="sourceLine" id="cb10-83" data-line-number="83">[<span class="dv">1</span>] <span class="ot">TRUE</span></a>
<a class="sourceLine" id="cb10-84" data-line-number="84"></a>
<a class="sourceLine" id="cb10-85" data-line-number="85">[[<span class="dv">2</span>]]<span class="op">$</span>vernacularName</a>
<a class="sourceLine" id="cb10-86" data-line-number="86">[[<span class="dv">2</span>]]<span class="op">$</span>vernacularName<span class="op">$</span>fi</a>
<a class="sourceLine" id="cb10-87" data-line-number="87">[<span class="dv">1</span>] <span class="st">"visakoivu"</span></a>
<a class="sourceLine" id="cb10-88" data-line-number="88"></a>
<a class="sourceLine" id="cb10-89" data-line-number="89">[[<span class="dv">2</span>]]<span class="op">$</span>vernacularName<span class="op">$</span>sv</a>
<a class="sourceLine" id="cb10-90" data-line-number="90">[<span class="dv">1</span>] <span class="st">"masurbjörk"</span></a>
<a class="sourceLine" id="cb10-91" data-line-number="91"></a>
<a class="sourceLine" id="cb10-92" data-line-number="92"></a>
<a class="sourceLine" id="cb10-93" data-line-number="93">[[<span class="dv">2</span>]]<span class="op">$</span>informalGroups</a>
<a class="sourceLine" id="cb10-94" data-line-number="94">[[<span class="dv">2</span>]]<span class="op">$</span>informalGroups[[<span class="dv">1</span>]]</a>
<a class="sourceLine" id="cb10-95" data-line-number="95">[[<span class="dv">2</span>]]<span class="op">$</span>informalGroups[[<span class="dv">1</span>]]<span class="op">$</span>id</a>
<a class="sourceLine" id="cb10-96" data-line-number="96">[<span class="dv">1</span>] <span class="st">"MVL.343"</span></a>
<a class="sourceLine" id="cb10-97" data-line-number="97"></a>
<a class="sourceLine" id="cb10-98" data-line-number="98">[[<span class="dv">2</span>]]<span class="op">$</span>informalGroups[[<span class="dv">1</span>]]<span class="op">$</span>name</a>
<a class="sourceLine" id="cb10-99" data-line-number="99">[[<span class="dv">2</span>]]<span class="op">$</span>informalGroups[[<span class="dv">1</span>]]<span class="op">$</span>name<span class="op">$</span>en</a>
<a class="sourceLine" id="cb10-100" data-line-number="100">[<span class="dv">1</span>] <span class="st">"Vascular plants"</span></a>
<a class="sourceLine" id="cb10-101" data-line-number="101"></a>
<a class="sourceLine" id="cb10-102" data-line-number="102">[[<span class="dv">2</span>]]<span class="op">$</span>informalGroups[[<span class="dv">1</span>]]<span class="op">$</span>name<span class="op">$</span>fi</a>
<a class="sourceLine" id="cb10-103" data-line-number="103">[<span class="dv">1</span>] <span class="st">"Putkilokasvit"</span></a>
<a class="sourceLine" id="cb10-104" data-line-number="104"></a>
<a class="sourceLine" id="cb10-105" data-line-number="105">[[<span class="dv">2</span>]]<span class="op">$</span>informalGroups[[<span class="dv">1</span>]]<span class="op">$</span>name<span class="op">$</span>sv</a>
<a class="sourceLine" id="cb10-106" data-line-number="106">[<span class="dv">1</span>] <span class="st">"Kärlväxter"</span></a>
<a class="sourceLine" id="cb10-107" data-line-number="107"></a>
<a class="sourceLine" id="cb10-108" data-line-number="108"></a>
<a class="sourceLine" id="cb10-109" data-line-number="109"></a>
<a class="sourceLine" id="cb10-110" data-line-number="110"></a>
<a class="sourceLine" id="cb10-111" data-line-number="111">[[<span class="dv">2</span>]]<span class="op">$</span>type</a>
<a class="sourceLine" id="cb10-112" data-line-number="112">[<span class="dv">1</span>] <span class="st">"partialMatches"</span></a></code></pre></div>
</details><p><br></p>
</div>
<div id="getting-occurrence-data" class="section level2">
<h2 class="hasAnchor">
<a href="#getting-occurrence-data" class="anchor"></a>Getting occurrence data</h2>
<p>You can download occurrence data from the FinBIF database as a <code>data.frame</code> with the <code><a href="../reference/finbif_occurrence.html">finbif_occurrence()</a></code> function.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="kw"><a href="../reference/finbif_occurrence.html">finbif_occurrence</a></span>(<span class="st">"Cygnus cygnus"</span>, <span class="dt">n =</span> <span class="dv">100</span>)</a>
<a class="sourceLine" id="cb11-2" data-line-number="2"><span class="co">#&gt; Records downloaded: 100</span></a>
<a class="sourceLine" id="cb11-3" data-line-number="3"><span class="co">#&gt; Records available: 56137</span></a>
<a class="sourceLine" id="cb11-4" data-line-number="4"><span class="co">#&gt; A data.frame [100 x 30]</span></a>
<a class="sourceLine" id="cb11-5" data-line-number="5"><span class="co">#&gt;    scientific_name abundance lat_wgs84 lon_wgs84           date_time</span></a>
<a class="sourceLine" id="cb11-6" data-line-number="6"><span class="co">#&gt; 1    Cygnus cygnus         2  61.12368  21.53212 2020-01-31 09:55:00</span></a>
<a class="sourceLine" id="cb11-7" data-line-number="7"><span class="co">#&gt; 2    Cygnus cygnus         3  60.45850  22.37715 2020-01-26 22:00:00</span></a>
<a class="sourceLine" id="cb11-8" data-line-number="8"><span class="co">#&gt; 3    Cygnus cygnus        12  60.56757  21.57197 2020-01-24 22:00:00</span></a>
<a class="sourceLine" id="cb11-9" data-line-number="9"><span class="co">#&gt; 4    Cygnus cygnus        17  60.56757  21.57197 2020-01-24 22:00:00</span></a>
<a class="sourceLine" id="cb11-10" data-line-number="10"><span class="co">#&gt; 5    Cygnus cygnus        23  60.94748  26.58934 2020-01-23 22:00:00</span></a>
<a class="sourceLine" id="cb11-11" data-line-number="11"><span class="co">#&gt; 6    Cygnus cygnus         4  61.10051  21.55668 2020-01-23 09:05:00</span></a>
<a class="sourceLine" id="cb11-12" data-line-number="12"><span class="co">#&gt; 7    Cygnus cygnus         2  62.22059  24.63009 2020-01-18 07:20:00</span></a>
<a class="sourceLine" id="cb11-13" data-line-number="13"><span class="co">#&gt; 8    Cygnus cygnus        65  60.77776  21.47181 2020-01-17 09:00:00</span></a>
<a class="sourceLine" id="cb11-14" data-line-number="14"><span class="co">#&gt; 9    Cygnus cygnus         5  61.11829  21.52784 2020-01-08 08:00:00</span></a>
<a class="sourceLine" id="cb11-15" data-line-number="15"><span class="co">#&gt; 10   Cygnus cygnus        30  61.03529  26.13553 2020-01-07 22:00:00</span></a>
<a class="sourceLine" id="cb11-16" data-line-number="16"><span class="co">#&gt; ...with 90 more records and 25 more variables:</span></a>
<a class="sourceLine" id="cb11-17" data-line-number="17"><span class="co">#&gt; taxon_rank, country, province, municipality, date_start, date_end,</span></a>
<a class="sourceLine" id="cb11-18" data-line-number="18"><span class="co">#&gt; hour_start, hour_end, minute_start, minute_end, record_id,</span></a>
<a class="sourceLine" id="cb11-19" data-line-number="19"><span class="co">#&gt; individual_id, event_id, collection_id, any_issues, record_issue,</span></a>
<a class="sourceLine" id="cb11-20" data-line-number="20"><span class="co">#&gt; record_reliable, taxon_reliability, document_issue,</span></a>
<a class="sourceLine" id="cb11-21" data-line-number="21"><span class="co">#&gt; collection_reliability, coordinates_uncertainty, event_issue,</span></a>
<a class="sourceLine" id="cb11-22" data-line-number="22"><span class="co">#&gt; location_issue, time_issue, duration</span></a></code></pre></div>
<p>You can search for multiple taxa at once and filter the records with the <code>filter</code> argument.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1"><span class="kw"><a href="../reference/finbif_occurrence.html">finbif_occurrence</a></span>(</a>
<a class="sourceLine" id="cb12-2" data-line-number="2">  <span class="st">"Cygnus cygnus"</span>, </a>
<a class="sourceLine" id="cb12-3" data-line-number="3">  <span class="st">"Cygnus olor"</span>,</a>
<a class="sourceLine" id="cb12-4" data-line-number="4">  <span class="dt">filter =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">coordinates_uncertainty_max =</span> <span class="dv">100</span>)</a>
<a class="sourceLine" id="cb12-5" data-line-number="5">)</a></code></pre></div>
<details closed><p><summary> Click to show/hide output. </summary></p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1"></a>
<a class="sourceLine" id="cb13-2" data-line-number="2">Records downloaded<span class="op">:</span><span class="st"> </span><span class="dv">10</span></a>
<a class="sourceLine" id="cb13-3" data-line-number="3">Records available<span class="op">:</span><span class="st"> </span><span class="dv">11395</span></a>
<a class="sourceLine" id="cb13-4" data-line-number="4">A data.frame [<span class="dv">10</span> x <span class="dv">30</span>]</a>
<a class="sourceLine" id="cb13-5" data-line-number="5">   scientific_name abundance lat_wgs84 lon_wgs84           date_time</a>
<a class="sourceLine" id="cb13-6" data-line-number="6"><span class="dv">1</span>      Cygnus olor         <span class="dv">1</span>  <span class="fl">60.17824</span>  <span class="fl">24.94096</span> <span class="dv">2020-02-03</span> <span class="dv">22</span><span class="op">:</span><span class="dv">00</span><span class="op">:</span><span class="dv">00</span></a>
<a class="sourceLine" id="cb13-7" data-line-number="7"><span class="dv">2</span>    Cygnus cygnus         <span class="dv">2</span>  <span class="fl">61.12368</span>  <span class="fl">21.53212</span> <span class="dv">2020-01-31</span> <span class="dv">09</span><span class="op">:</span><span class="dv">55</span><span class="op">:</span><span class="dv">00</span></a>
<a class="sourceLine" id="cb13-8" data-line-number="8"><span class="dv">3</span>      Cygnus olor         <span class="dv">1</span>  <span class="fl">60.45850</span>  <span class="fl">22.37715</span> <span class="dv">2020-01-26</span> <span class="dv">22</span><span class="op">:</span><span class="dv">00</span><span class="op">:</span><span class="dv">00</span></a>
<a class="sourceLine" id="cb13-9" data-line-number="9"><span class="dv">4</span>    Cygnus cygnus         <span class="dv">3</span>  <span class="fl">60.45850</span>  <span class="fl">22.37715</span> <span class="dv">2020-01-26</span> <span class="dv">22</span><span class="op">:</span><span class="dv">00</span><span class="op">:</span><span class="dv">00</span></a>
<a class="sourceLine" id="cb13-10" data-line-number="10"><span class="dv">5</span>      Cygnus olor         <span class="dv">1</span>  <span class="fl">61.11068</span>  <span class="fl">21.53062</span> <span class="dv">2020-01-25</span> <span class="dv">06</span><span class="op">:</span><span class="dv">55</span><span class="op">:</span><span class="dv">00</span></a>
<a class="sourceLine" id="cb13-11" data-line-number="11"><span class="dv">6</span>      Cygnus olor         <span class="dv">2</span>  <span class="fl">60.56757</span>  <span class="fl">21.57197</span> <span class="dv">2020-01-24</span> <span class="dv">22</span><span class="op">:</span><span class="dv">00</span><span class="op">:</span><span class="dv">00</span></a>
<a class="sourceLine" id="cb13-12" data-line-number="12"><span class="dv">7</span>    Cygnus cygnus        <span class="dv">12</span>  <span class="fl">60.56757</span>  <span class="fl">21.57197</span> <span class="dv">2020-01-24</span> <span class="dv">22</span><span class="op">:</span><span class="dv">00</span><span class="op">:</span><span class="dv">00</span></a>
<a class="sourceLine" id="cb13-13" data-line-number="13"><span class="dv">8</span>    Cygnus cygnus        <span class="dv">17</span>  <span class="fl">60.56757</span>  <span class="fl">21.57197</span> <span class="dv">2020-01-24</span> <span class="dv">22</span><span class="op">:</span><span class="dv">00</span><span class="op">:</span><span class="dv">00</span></a>
<a class="sourceLine" id="cb13-14" data-line-number="14"><span class="dv">9</span>    Cygnus cygnus        <span class="dv">23</span>  <span class="fl">60.94748</span>  <span class="fl">26.58934</span> <span class="dv">2020-01-23</span> <span class="dv">22</span><span class="op">:</span><span class="dv">00</span><span class="op">:</span><span class="dv">00</span></a>
<a class="sourceLine" id="cb13-15" data-line-number="15"><span class="dv">10</span>     Cygnus olor         <span class="dv">2</span>  <span class="fl">60.94740</span>  <span class="fl">26.58939</span> <span class="dv">2020-01-23</span> <span class="dv">22</span><span class="op">:</span><span class="dv">00</span><span class="op">:</span><span class="dv">00</span></a>
<a class="sourceLine" id="cb13-16" data-line-number="16">...with <span class="dv">0</span> more records and <span class="dv">25</span> more variables<span class="op">:</span></a>
<a class="sourceLine" id="cb13-17" data-line-number="17">taxon_rank, country, province, municipality, date_start, date_end,</a>
<a class="sourceLine" id="cb13-18" data-line-number="18">hour_start, hour_end, minute_start, minute_end, record_id,</a>
<a class="sourceLine" id="cb13-19" data-line-number="19">individual_id, event_id, collection_id, any_issues, record_issue,</a>
<a class="sourceLine" id="cb13-20" data-line-number="20">record_reliable, taxon_reliability, document_issue,</a>
<a class="sourceLine" id="cb13-21" data-line-number="21">collection_reliability, coordinates_uncertainty, event_issue,</a>
<a class="sourceLine" id="cb13-22" data-line-number="22">location_issue, time_issue, duration</a></code></pre></div>
</details><p><br></p>
<p>See <code><a href="../reference/filters.html">?filters</a></code> and <code>vignette("v0_filtering")</code> for more details on filtering FinBIF records.</p>
<div id="random-sampling" class="section level3">
<h3 class="hasAnchor">
<a href="#random-sampling" class="anchor"></a>Random sampling</h3>
<p>It is possible to request a random sample of records instead of the last <code>n</code> records (or records ordered by some other variable).</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1"><span class="kw"><a href="../reference/finbif_occurrence.html">finbif_occurrence</a></span>(<span class="st">"Birds"</span>, <span class="dt">sample =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<details closed><p><summary> Click to show/hide output. </summary></p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1"></a>
<a class="sourceLine" id="cb15-2" data-line-number="2">Records downloaded<span class="op">:</span><span class="st"> </span><span class="dv">10</span></a>
<a class="sourceLine" id="cb15-3" data-line-number="3">Records available<span class="op">:</span><span class="st"> </span><span class="dv">17764091</span></a>
<a class="sourceLine" id="cb15-4" data-line-number="4">A data.frame [<span class="dv">10</span> x <span class="dv">30</span>]</a>
<a class="sourceLine" id="cb15-5" data-line-number="5">        scientific_name abundance lat_wgs84 lon_wgs84           date_time</a>
<a class="sourceLine" id="cb15-6" data-line-number="6"><span class="dv">1</span>    Ficedula hypoleuca         <span class="dv">1</span>  <span class="fl">66.93333</span>  <span class="fl">24.51667</span> <span class="dv">1974-07-06</span> <span class="dv">22</span><span class="op">:</span><span class="dv">00</span><span class="op">:</span><span class="dv">00</span></a>
<a class="sourceLine" id="cb15-7" data-line-number="7"><span class="dv">2</span>     Fringilla coelebs         <span class="dv">1</span>  <span class="fl">61.23566</span>  <span class="fl">24.11011</span> <span class="dv">1995-06-18</span> <span class="dv">01</span><span class="op">:</span><span class="dv">30</span><span class="op">:</span><span class="dv">00</span></a>
<a class="sourceLine" id="cb15-8" data-line-number="8"><span class="dv">3</span>       Passer montanus         <span class="dv">2</span>  <span class="fl">60.81331</span>  <span class="fl">26.35391</span> <span class="dv">2006-06-28</span> <span class="dv">21</span><span class="op">:</span><span class="dv">00</span><span class="op">:</span><span class="dv">00</span></a>
<a class="sourceLine" id="cb15-9" data-line-number="9"><span class="dv">4</span>       Hirundo rustica         <span class="dv">1</span>  <span class="fl">61.14266</span>  <span class="fl">24.37962</span> <span class="dv">2010-08-17</span> <span class="dv">18</span><span class="op">:</span><span class="dv">00</span><span class="op">:</span><span class="dv">00</span></a>
<a class="sourceLine" id="cb15-10" data-line-number="10"><span class="dv">5</span>     Fringilla coelebs         <span class="dv">1</span>  <span class="fl">62.69656</span>  <span class="fl">22.36466</span> <span class="dv">2013-06-01</span> <span class="dv">00</span><span class="op">:</span><span class="dv">57</span><span class="op">:</span><span class="dv">00</span></a>
<a class="sourceLine" id="cb15-11" data-line-number="11"><span class="dv">6</span>  Fringilla montifrin…         <span class="dv">1</span>  <span class="fl">60.27855</span>  <span class="fl">24.41111</span> <span class="dv">1995-10-21</span> <span class="dv">06</span><span class="op">:</span><span class="dv">00</span><span class="op">:</span><span class="dv">00</span></a>
<a class="sourceLine" id="cb15-12" data-line-number="12"><span class="dv">7</span>   Cyanistes caeruleus         <span class="dv">1</span>  <span class="fl">60.61667</span>  <span class="fl">21.80000</span> <span class="dv">1989-07-10</span> <span class="dv">05</span><span class="op">:</span><span class="dv">00</span><span class="op">:</span><span class="dv">00</span></a>
<a class="sourceLine" id="cb15-13" data-line-number="13"><span class="dv">8</span>     Fringilla coelebs         <span class="dv">1</span>  <span class="fl">60.89581</span>  <span class="fl">22.10192</span> <span class="dv">2012-06-09</span> <span class="dv">07</span><span class="op">:</span><span class="dv">00</span><span class="op">:</span><span class="dv">00</span></a>
<a class="sourceLine" id="cb15-14" data-line-number="14"><span class="dv">9</span>     Falco tinnunculus         <span class="dv">1</span>  <span class="fl">60.64095</span>  <span class="fl">27.89334</span> <span class="dv">2003-07-07</span> <span class="dv">21</span><span class="op">:</span><span class="dv">00</span><span class="op">:</span><span class="dv">00</span></a>
<a class="sourceLine" id="cb15-15" data-line-number="15"><span class="dv">10</span>   Bucephala clangula        <span class="dv">10</span>  <span class="fl">59.81111</span>  <span class="fl">22.89545</span> <span class="dv">2007-01-14</span> <span class="dv">22</span><span class="op">:</span><span class="dv">00</span><span class="op">:</span><span class="dv">00</span></a>
<a class="sourceLine" id="cb15-16" data-line-number="16">...with <span class="dv">0</span> more records and <span class="dv">25</span> more variables<span class="op">:</span></a>
<a class="sourceLine" id="cb15-17" data-line-number="17">taxon_rank, country, province, municipality, date_start, date_end,</a>
<a class="sourceLine" id="cb15-18" data-line-number="18">hour_start, hour_end, minute_start, minute_end, record_id,</a>
<a class="sourceLine" id="cb15-19" data-line-number="19">individual_id, event_id, collection_id, any_issues, record_issue,</a>
<a class="sourceLine" id="cb15-20" data-line-number="20">record_reliable, taxon_reliability, document_issue,</a>
<a class="sourceLine" id="cb15-21" data-line-number="21">collection_reliability, coordinates_uncertainty, event_issue,</a>
<a class="sourceLine" id="cb15-22" data-line-number="22">location_issue, time_issue, duration</a></code></pre></div>
</details><p><br></p>
</div>
</div>
<div id="plotting-occurrence-data" class="section level2">
<h2 class="hasAnchor">
<a href="#plotting-occurrence-data" class="anchor"></a>Plotting occurrence data</h2>
<p>The <code>finbif</code> package has a number of inbuilt functions for plotting (see e.g., <code><a href="../reference/breaks_xy.html">breaks_xy()</a></code> and <code><a href="../reference/hist_xy.html">hist_xy()</a></code>). There is also an inbuilt dataset that can be used to plot the border of Finland (<code><a href="../reference/finland_map.html">?finland_map</a></code>). Together these utilities can be used to plot occurrences after they have been downloaded from FinBIF. For example, the following can be used to plot the density of Eurasian Jay occurrences from Finland.</p>
<details closed><p><summary><span title="">Click to show/hide code.</span></summary></p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1"><span class="co"># Download all the occurrences of Eurasian Jay in Finland</span></a>
<a class="sourceLine" id="cb16-2" data-line-number="2"><span class="co"># that have coordinates accurate to at least 100m</span></a>
<a class="sourceLine" id="cb16-3" data-line-number="3">jays &lt;-<span class="st"> </span><span class="kw"><a href="../reference/finbif_occurrence.html">finbif_occurrence</a></span>(</a>
<a class="sourceLine" id="cb16-4" data-line-number="4">  <span class="dt">taxa   =</span> <span class="st">"Eurasian Jay"</span>,</a>
<a class="sourceLine" id="cb16-5" data-line-number="5">  <span class="dt">filter =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(</a>
<a class="sourceLine" id="cb16-6" data-line-number="6">    <span class="dt">coordinates_uncertainty_max =</span> <span class="dv">100</span>,</a>
<a class="sourceLine" id="cb16-7" data-line-number="7">    <span class="dt">country                     =</span> <span class="st">"Finland"</span></a>
<a class="sourceLine" id="cb16-8" data-line-number="8">  ),</a>
<a class="sourceLine" id="cb16-9" data-line-number="9">  <span class="dt">n      =</span> <span class="fl">2e4</span>,</a>
<a class="sourceLine" id="cb16-10" data-line-number="10">  <span class="dt">quiet  =</span> <span class="ot">TRUE</span></a>
<a class="sourceLine" id="cb16-11" data-line-number="11">)</a>
<a class="sourceLine" id="cb16-12" data-line-number="12"></a>
<a class="sourceLine" id="cb16-13" data-line-number="13"><span class="co"># Compute the density of occurrences in 1/4 degree cells and plot as a heatmap</span></a>
<a class="sourceLine" id="cb16-14" data-line-number="14"><span class="kw"><a href="https://rdrr.io/r/base/with.html">with</a></span>(</a>
<a class="sourceLine" id="cb16-15" data-line-number="15">  <span class="dt">data =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(jays, finland_map),</a>
<a class="sourceLine" id="cb16-16" data-line-number="16">  <span class="dt">expr =</span> {</a>
<a class="sourceLine" id="cb16-17" data-line-number="17">    <span class="kw"><a href="https://rdrr.io/r/graphics/par.html">par</a></span>(<span class="dt">mar =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dv">5</span>, <span class="dv">5</span>, <span class="dv">1</span>, <span class="dv">1</span>), <span class="dt">las =</span> <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb16-18" data-line-number="18">    <span class="co"># compute a 2d histogram from the occurrences</span></a>
<a class="sourceLine" id="cb16-19" data-line-number="19">    breaks  &lt;-<span class="st"> </span><span class="kw"><a href="../reference/breaks_xy.html">breaks_xy</a></span>(bbox, <span class="fl">.25</span>) <span class="co"># breakpoints every 1/4 of a degree</span></a>
<a class="sourceLine" id="cb16-20" data-line-number="20">    density &lt;-<span class="st"> </span><span class="kw"><a href="../reference/hist_xy.html">hist_xy</a></span>(<span class="dt">xy =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(lon_wgs84, lat_wgs84), breaks)</a>
<a class="sourceLine" id="cb16-21" data-line-number="21">    <span class="co"># plot the histogram as a heatmap</span></a>
<a class="sourceLine" id="cb16-22" data-line-number="22">    <span class="kw"><a href="https://rdrr.io/r/graphics/image.html">image</a></span>(density,</a>
<a class="sourceLine" id="cb16-23" data-line-number="23">          <span class="dt">asp    =</span> <span class="fl">2.4</span>,</a>
<a class="sourceLine" id="cb16-24" data-line-number="24">          <span class="dt">breaks =</span> <span class="dv">2</span><span class="op">^</span><span class="kw"><a href="https://rdrr.io/r/base/seq.html">seq</a></span>(<span class="dv">0</span>, <span class="dv">12</span>), <span class="co"># breakpoints for the gridcell colours</span></a>
<a class="sourceLine" id="cb16-25" data-line-number="25">          <span class="dt">col    =</span> <span class="kw"><a href="https://rdrr.io/r/grDevices/palettes.html">hcl.colors</a></span>(<span class="dv">12</span>, <span class="dt">rev =</span> <span class="ot">TRUE</span>),</a>
<a class="sourceLine" id="cb16-26" data-line-number="26">          <span class="dt">xlab   =</span> <span class="st">"Longitude"</span>,</a>
<a class="sourceLine" id="cb16-27" data-line-number="27">          <span class="dt">ylab   =</span> <span class="st">"Latitude"</span>,</a>
<a class="sourceLine" id="cb16-28" data-line-number="28">          <span class="dt">panel.first =</span> <span class="kw"><a href="https://rdrr.io/r/graphics/grid.html">grid</a></span>())</a>
<a class="sourceLine" id="cb16-29" data-line-number="29">    <span class="kw"><a href="https://rdrr.io/r/graphics/legend.html">legend</a></span>(<span class="st">"topright"</span>,</a>
<a class="sourceLine" id="cb16-30" data-line-number="30">           <span class="dt">inset  =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dv">0</span>, <span class="fl">.01</span>),</a>
<a class="sourceLine" id="cb16-31" data-line-number="31">           <span class="dt">legend =</span> <span class="kw"><a href="https://rdrr.io/r/base/expression.html">expression</a></span>(<span class="dv">2</span><span class="op">^</span><span class="dv">12</span>, <span class="st">""</span>, <span class="st">""</span>, <span class="dv">2</span><span class="op">^</span><span class="dv">6</span>, <span class="st">""</span>, <span class="st">""</span>, <span class="dv">2</span><span class="op">^</span><span class="dv">0</span>),</a>
<a class="sourceLine" id="cb16-32" data-line-number="32">           <span class="dt">fill   =</span> <span class="kw"><a href="https://rdrr.io/r/grDevices/palettes.html">hcl.colors</a></span>(<span class="dv">7</span>),</a>
<a class="sourceLine" id="cb16-33" data-line-number="33">           <span class="dt">border =</span> <span class="ot">NA</span>,</a>
<a class="sourceLine" id="cb16-34" data-line-number="34">           <span class="dt">bty    =</span> <span class="st">"n"</span>,</a>
<a class="sourceLine" id="cb16-35" data-line-number="35">           <span class="dt">adj    =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dv">0</span>, <span class="fl">0.25</span>), </a>
<a class="sourceLine" id="cb16-36" data-line-number="36">           <span class="dt">x.intersp =</span> <span class="fl">.2</span>,</a>
<a class="sourceLine" id="cb16-37" data-line-number="37">           <span class="dt">y.intersp =</span> <span class="fl">.5</span>)</a>
<a class="sourceLine" id="cb16-38" data-line-number="38">    <span class="co"># add the Finnish border</span></a>
<a class="sourceLine" id="cb16-39" data-line-number="39">    <span class="kw"><a href="https://rdrr.io/r/graphics/polygon.html">polygon</a></span>(<span class="dt">x =</span> vertices, <span class="dt">lwd =</span> <span class="fl">.2</span>)</a>
<a class="sourceLine" id="cb16-40" data-line-number="40">  }</a>
<a class="sourceLine" id="cb16-41" data-line-number="41">)</a></code></pre></div>
</details><p><img src="figure/plot-occurrences-eval-1.png"></p>
</div>
<div id="caching" class="section level2">
<h2 class="hasAnchor">
<a href="#caching" class="anchor"></a>Caching</h2>
<p>By default <code>finbif</code> uses local caching for repeated API requests. This can be turned on or off on a per request or session basis. See <code><a href="../reference/caching.html">?caching</a></code> for details.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#installing-the-finbif-package">Installing the finbif package</a></li>
      <li><a href="#loading-the-finbif-package">Loading the finbif package</a></li>
      <li><a href="#getting-a-finbif-access-token">Getting a FinBIF access token</a></li>
      <li><a href="#working-with-taxa">Working with taxa</a></li>
      <li><a href="#getting-occurrence-data">Getting occurrence data</a></li>
      <li><a href="#plotting-occurrence-data">Plotting occurrence data</a></li>
      <li><a href="#caching">Caching</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by William Morris.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
