<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Occurrence records from FinBIF • finbif</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.9/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Occurrence records from FinBIF">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">finbif</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.9.9</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/finbif.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/v02_occurrence_data.html">Occurrence records from FinBIF</a></li>
    <li><a class="dropdown-item" href="../articles/v03_selecting_variables.html">Selecting and ordering variables</a></li>
    <li><a class="dropdown-item" href="../articles/v04_metadata.html">Metadata</a></li>
    <li><a class="dropdown-item" href="../articles/v05_filtering.html">Filtering occurrence records</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/luomus/finbif/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Occurrence records from FinBIF</h1>
                        <h4 data-toc-skip class="author">William K.
Morris</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/luomus/finbif/blob/HEAD/vignettes/v02_occurrence_data.Rmd" class="external-link"><code>vignettes/v02_occurrence_data.Rmd</code></a></small>
      <div class="d-none name"><code>v02_occurrence_data.Rmd</code></div>
    </div>

    
    
<p>The core purpose of <a href="https://github.com/luomus/finbif" class="external-link">finbif</a> is accessing occurrence
data stored in the FinBIF database. Occurrence data can be retrieved
from FinBIF with the function <code><a href="../reference/finbif_occurrence.html">finbif_occurrence()</a></code>. Without
any arguments specified <code><a href="../reference/finbif_occurrence.html">finbif_occurrence()</a></code> will retrieve
the latest 10 occurrence records from FinBIF.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/finbif_occurrence.html">finbif_occurrence</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<details closed><summary>
Click to show/hide output.
</summary><div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co">#&gt; Records downloaded: 10</span></span>
<span><span class="co">#&gt; Records available: 47159747</span></span>
<span><span class="co">#&gt; A data.frame [10 x 12]</span></span>
<span><span class="co">#&gt;                                 record_id      scientific_name abundance lat_wgs84 lon_wgs84</span></span>
<span><span class="co">#&gt; 1  …KE.176/64895825d5de884fa20e297d#Unit1 Heracleum persicum …        NA  61.08302  22.38983</span></span>
<span><span class="co">#&gt; 2                           …JX.1594382#9 Hirundo rustica Lin…        NA  64.12716  23.99111</span></span>
<span><span class="co">#&gt; 3                          …JX.1594382#37 Pica pica (Linnaeus…        NA  64.12716  23.99111</span></span>
<span><span class="co">#&gt; 4                          …JX.1594382#49 Muscicapa striata (…        NA  64.12716  23.99111</span></span>
<span><span class="co">#&gt; 5                          …JX.1594382#39 Larus canus Linnaeu…        NA  64.12716  23.99111</span></span>
<span><span class="co">#&gt; 6                           …JX.1594382#5 Emberiza citrinella…        NA  64.12716  23.99111</span></span>
<span><span class="co">#&gt; 7                          …JX.1594382#31 Ficedula hypoleuca …        NA  64.12716  23.99111</span></span>
<span><span class="co">#&gt; 8                          …JX.1594382#41 Alauda arvensis Lin…        NA  64.12716  23.99111</span></span>
<span><span class="co">#&gt; 9                          …JX.1594382#21 Numenius arquata (L…        NA  64.12716  23.99111</span></span>
<span><span class="co">#&gt; 10                         …JX.1594382#29 Dendrocopos major (…        NA  64.12716  23.99111</span></span>
<span><span class="co">#&gt; ...with 0 more record and 7 more variables:</span></span>
<span><span class="co">#&gt; date_time, coordinates_uncertainty, any_issues, requires_verification, requires_identification,</span></span>
<span><span class="co">#&gt; record_reliability, record_quality</span></span></code></pre></div>
</details><p><br> The print method for the resulting <code>finbif_occ</code>
object will display the number of records downloaded, the total number
of records available, a data summary including up to 10 rows of some
core record variables (when available), the number of remaining records
and variables, as well as the names of additional variables.</p>
<div class="section level2">
<h2 id="darwin-core-variables">Darwin Core Variables<a class="anchor" aria-label="anchor" href="#darwin-core-variables"></a>
</h2>
<p>You can switch from the default variable names to <a href="http://rs.tdwg.org/dwc/" class="external-link">Darwin Core</a> style names by setting
<code>dwc = TRUE</code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="fu"><a href="../reference/finbif_occurrence.html">finbif_occurrence</a></span><span class="op">(</span>dwc <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "occurrenceID"                  "scientificName"                "individualCount"              </span></span>
<span><span class="co">#&gt;  [4] "decimalLatitude"               "decimalLongitude"              "eventDateTime"                </span></span>
<span><span class="co">#&gt;  [7] "coordinateUncertaintyInMeters" "hasIssues"                     "requiresVerification"         </span></span>
<span><span class="co">#&gt; [10] "requiresIdentification"        "occurrenceReliability"         "occurrenceQuality"</span></span></code></pre></div>
<p>The functions <code><a href="../reference/to_dwc.html">to_dwc()</a></code> and <code><a href="../reference/to_dwc.html">to_native()</a></code> can
be used to translate variable names to and from Darwin Core style and
<a href="https://github.com/luomus/finbif" class="external-link">finbif</a>’s native variable names style.</p>
</div>
<div class="section level2">
<h2 id="choosing-taxa">Choosing taxa<a class="anchor" aria-label="anchor" href="#choosing-taxa"></a>
</h2>
<p>You can limit the records to certain taxa by specifying them as an
argument.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/finbif_occurrence.html">finbif_occurrence</a></span><span class="op">(</span><span class="st">"Cygnus cygnus"</span><span class="op">)</span></span></code></pre></div>
<details closed><summary>
Click to show/hide output.
</summary><div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co">#&gt; Records downloaded: 10</span></span>
<span><span class="co">#&gt; Records available: 95730</span></span>
<span><span class="co">#&gt; A data.frame [10 x 12]</span></span>
<span><span class="co">#&gt;                   record_id      scientific_name abundance lat_wgs84 lon_wgs84           date_time</span></span>
<span><span class="co">#&gt; 1            …JX.1594164#13 Cygnus cygnus (Linn…        NA  64.94473  26.67958 2023-06-13 14:33:00</span></span>
<span><span class="co">#&gt; 2  …HR.4412/6489172c9ddda_U Cygnus cygnus (Linn…        NA  61.74701  23.11493 2023-06-13 12:00:00</span></span>
<span><span class="co">#&gt; 3  …HR.4412/64891730060a4_U Cygnus cygnus (Linn…        NA  61.38348  22.97288 2023-06-13 12:00:00</span></span>
<span><span class="co">#&gt; 4  …HR.4412/648917378a3b6_U Cygnus cygnus (Linn…        NA  62.76028  24.15774 2023-06-13 12:00:00</span></span>
<span><span class="co">#&gt; 5  …HR.4412/6489175adc05f_U Cygnus cygnus (Linn…        NA  60.78752  21.39263 2023-06-13 12:00:00</span></span>
<span><span class="co">#&gt; 6  …HR.4412/6489173a1db9b_U Cygnus cygnus (Linn…        NA  64.31374  26.68643 2023-06-13 12:00:00</span></span>
<span><span class="co">#&gt; 7  …HR.4412/648917456a396_U Cygnus cygnus (Linn…        NA  61.87986  25.19067 2023-06-13 12:00:00</span></span>
<span><span class="co">#&gt; 8  …HR.4412/648917454912b_U Cygnus cygnus (Linn…        NA  60.42215  24.00099 2023-06-13 12:00:00</span></span>
<span><span class="co">#&gt; 9  …HR.4412/64891750e74e7_U Cygnus cygnus (Linn…        NA  63.86383  27.70835 2023-06-13 12:00:00</span></span>
<span><span class="co">#&gt; 10 …HR.4412/64891741330f8_U Cygnus cygnus (Linn…        NA  61.74701  23.11493 2023-06-13 12:00:00</span></span>
<span><span class="co">#&gt; ...with 0 more record and 6 more variables:</span></span>
<span><span class="co">#&gt; coordinates_uncertainty, any_issues, requires_verification, requires_identification,</span></span>
<span><span class="co">#&gt; record_reliability, record_quality</span></span></code></pre></div>
</details><p><br></p>
<p>Multiple taxa can be requested at once.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/finbif_occurrence.html">finbif_occurrence</a></span><span class="op">(</span><span class="st">"Cygnus cygnus"</span>, <span class="st">"Cygnus olor"</span><span class="op">)</span></span></code></pre></div>
<details closed><summary>
Click to show/hide output.
</summary><div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co">#&gt; Records downloaded: 10</span></span>
<span><span class="co">#&gt; Records available: 138681</span></span>
<span><span class="co">#&gt; A data.frame [10 x 12]</span></span>
<span><span class="co">#&gt;                   record_id      scientific_name abundance lat_wgs84 lon_wgs84           date_time</span></span>
<span><span class="co">#&gt; 1            …JX.1594164#13 Cygnus cygnus (Linn…        NA  64.94473  26.67958 2023-06-13 14:33:00</span></span>
<span><span class="co">#&gt; 2  …HR.4412/6489172c9ddda_U Cygnus cygnus (Linn…        NA  61.74701  23.11493 2023-06-13 12:00:00</span></span>
<span><span class="co">#&gt; 3  …HR.4412/64891730060a4_U Cygnus cygnus (Linn…        NA  61.38348  22.97288 2023-06-13 12:00:00</span></span>
<span><span class="co">#&gt; 4  …HR.4412/648917378a3b6_U Cygnus cygnus (Linn…        NA  62.76028  24.15774 2023-06-13 12:00:00</span></span>
<span><span class="co">#&gt; 5  …HR.4412/64891759be4c7_U Cygnus olor (J.F. G…        NA  63.40045  21.48901 2023-06-13 12:00:00</span></span>
<span><span class="co">#&gt; 6  …HR.4412/6489175adc05f_U Cygnus cygnus (Linn…        NA  60.78752  21.39263 2023-06-13 12:00:00</span></span>
<span><span class="co">#&gt; 7  …HR.4412/6489173a1db9b_U Cygnus cygnus (Linn…        NA  64.31374  26.68643 2023-06-13 12:00:00</span></span>
<span><span class="co">#&gt; 8  …HR.4412/648917456a396_U Cygnus cygnus (Linn…        NA  61.87986  25.19067 2023-06-13 12:00:00</span></span>
<span><span class="co">#&gt; 9  …HR.4412/648917454912b_U Cygnus cygnus (Linn…        NA  60.42215  24.00099 2023-06-13 12:00:00</span></span>
<span><span class="co">#&gt; 10 …HR.4412/64891750e74e7_U Cygnus cygnus (Linn…        NA  63.86383  27.70835 2023-06-13 12:00:00</span></span>
<span><span class="co">#&gt; ...with 0 more record and 6 more variables:</span></span>
<span><span class="co">#&gt; coordinates_uncertainty, any_issues, requires_verification, requires_identification,</span></span>
<span><span class="co">#&gt; record_reliability, record_quality</span></span></code></pre></div>
</details><p><br></p>
<p>You can also chose higher taxonomic groups and use common names (in
English, Finnish and Swedish).</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">birds</span>  <span class="op">&lt;-</span> <span class="fu"><a href="../reference/finbif_occurrence.html">finbif_occurrence</a></span><span class="op">(</span><span class="st">"Birds"</span><span class="op">)</span></span>
<span><span class="va">linnut</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/finbif_occurrence.html">finbif_occurrence</a></span><span class="op">(</span><span class="st">"Linnut"</span><span class="op">)</span></span>
<span><span class="va">faglar</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/finbif_occurrence.html">finbif_occurrence</a></span><span class="op">(</span><span class="st">"Fåglar"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">birds</span>, <span class="va">linnut</span>, <span class="va">faglar</span><span class="op">)</span>, <span class="va">nrow</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 10 10 10</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="request-size">Request size<a class="anchor" aria-label="anchor" href="#request-size"></a>
</h2>
<p>You can increase the number of records returned by using the
<code>n</code> argument.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/finbif_occurrence.html">finbif_occurrence</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">1001</span><span class="op">)</span></span></code></pre></div>
<details closed><summary>
Click to show/hide output.
</summary><div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co">#&gt; Records downloaded: 1001</span></span>
<span><span class="co">#&gt; Records available: 47159747</span></span>
<span><span class="co">#&gt; A data.frame [1001 x 12]</span></span>
<span><span class="co">#&gt;                                 record_id      scientific_name abundance lat_wgs84 lon_wgs84</span></span>
<span><span class="co">#&gt; 1  …KE.176/64895825d5de884fa20e297d#Unit1 Heracleum persicum …        NA  61.08302  22.38983</span></span>
<span><span class="co">#&gt; 2                           …JX.1594382#9 Hirundo rustica Lin…        NA  64.12716  23.99111</span></span>
<span><span class="co">#&gt; 3                          …JX.1594382#37 Pica pica (Linnaeus…        NA  64.12716  23.99111</span></span>
<span><span class="co">#&gt; 4                          …JX.1594382#49 Muscicapa striata (…        NA  64.12716  23.99111</span></span>
<span><span class="co">#&gt; 5                          …JX.1594382#39 Larus canus Linnaeu…        NA  64.12716  23.99111</span></span>
<span><span class="co">#&gt; 6                           …JX.1594382#5 Emberiza citrinella…        NA  64.12716  23.99111</span></span>
<span><span class="co">#&gt; 7                          …JX.1594382#31 Ficedula hypoleuca …        NA  64.12716  23.99111</span></span>
<span><span class="co">#&gt; 8                          …JX.1594382#41 Alauda arvensis Lin…        NA  64.12716  23.99111</span></span>
<span><span class="co">#&gt; 9                          …JX.1594382#21 Numenius arquata (L…        NA  64.12716  23.99111</span></span>
<span><span class="co">#&gt; 10                         …JX.1594382#29 Dendrocopos major (…        NA  64.12716  23.99111</span></span>
<span><span class="co">#&gt; ...with 991 more records and 7 more variables:</span></span>
<span><span class="co">#&gt; date_time, coordinates_uncertainty, any_issues, requires_verification, requires_identification,</span></span>
<span><span class="co">#&gt; record_reliability, record_quality</span></span></code></pre></div>
</details><p><br></p>
<p>You can see how many records are available for a given request,
without retrieving any records, by setting
<code>count_only = TRUE</code>.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/finbif_occurrence.html">finbif_occurrence</a></span><span class="op">(</span>count_only <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 47159747</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="checking-taxa">Checking taxa<a class="anchor" aria-label="anchor" href="#checking-taxa"></a>
</h2>
<p>When you request occurrence records for specific taxa, by default,
the taxon names are first checked against the FinBIF database. If any of
the requested taxa are not found in the database you will receive a
warning but the data will still be retrieved for the remaining taxa.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/finbif_occurrence.html">finbif_occurrence</a></span><span class="op">(</span><span class="st">"Vulpes vulpes"</span>, <span class="st">"Moomin"</span><span class="op">)</span></span></code></pre></div>
<details closed><summary>
Click to show/hide output.
</summary><div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co">#&gt; Records downloaded: 10</span></span>
<span><span class="co">#&gt; Records available: 5303</span></span>
<span><span class="co">#&gt; A data.frame [10 x 12]</span></span>
<span><span class="co">#&gt;                                 record_id      scientific_name abundance lat_wgs84 lon_wgs84</span></span>
<span><span class="co">#&gt; 1                    …HR.3211/167313561-U Vulpes vulpes (Linn…        NA  60.18049  25.04838</span></span>
<span><span class="co">#&gt; 2                    …HR.3211/167310567-U Vulpes vulpes (Linn…        NA  60.2241   24.89373</span></span>
<span><span class="co">#&gt; 3  …KE.176/64894ccdd5de884fa20e2972#Unit1 Vulpes vulpes (Linn…  1         60.21118  24.90744</span></span>
<span><span class="co">#&gt; 4  …KE.176/6489506dd5de884fa20e2976#Unit1 Vulpes vulpes (Linn…  1         60.11016  25.01864</span></span>
<span><span class="co">#&gt; 5  …KE.176/648802d6d5de884fa20e290d#Unit1 Vulpes vulpes (Linn…  1         60.11016  25.01864</span></span>
<span><span class="co">#&gt; 6  …KE.176/648802c7d5de884fa20e290c#Unit1 Vulpes vulpes (Linn…  1         60.11016  25.01864</span></span>
<span><span class="co">#&gt; 7                    …HR.3211/167167234-U Vulpes vulpes (Linn…        NA  60.20261  24.86879</span></span>
<span><span class="co">#&gt; 8                    …HR.3211/166968734-U Vulpes vulpes (Linn…        NA  60.5      21.9    </span></span>
<span><span class="co">#&gt; 9                    …HR.3211/166944731-U Vulpes vulpes (Linn…        NA  60.17493  24.74123</span></span>
<span><span class="co">#&gt; 10 …KE.176/64869a52d5de884fa20e28ae#Unit1 Vulpes vulpes (Linn…  1         60.23885  25.12012</span></span>
<span><span class="co">#&gt; ...with 0 more record and 7 more variables:</span></span>
<span><span class="co">#&gt; date_time, coordinates_uncertainty, any_issues, requires_verification, requires_identification,</span></span>
<span><span class="co">#&gt; record_reliability, record_quality</span></span></code></pre></div>
</details><p><br></p>
<p>You can turn off taxon name pre-checking by setting the value of the
<code>check_taxa</code> argument to <code>FALSE</code>.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/finbif_occurrence.html">finbif_occurrence</a></span><span class="op">(</span><span class="st">"Vulpes vulpes"</span>, <span class="st">"Moomin"</span>, check_taxa <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<details closed><summary>
Click to show/hide output.
</summary><div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co">#&gt; Records downloaded: 10</span></span>
<span><span class="co">#&gt; Records available: 5303</span></span>
<span><span class="co">#&gt; A data.frame [10 x 12]</span></span>
<span><span class="co">#&gt;                                 record_id      scientific_name abundance lat_wgs84 lon_wgs84</span></span>
<span><span class="co">#&gt; 1                    …HR.3211/167313561-U Vulpes vulpes (Linn…        NA  60.18049  25.04838</span></span>
<span><span class="co">#&gt; 2                    …HR.3211/167310567-U Vulpes vulpes (Linn…        NA  60.2241   24.89373</span></span>
<span><span class="co">#&gt; 3  …KE.176/64894ccdd5de884fa20e2972#Unit1 Vulpes vulpes (Linn…  1         60.21118  24.90744</span></span>
<span><span class="co">#&gt; 4  …KE.176/6489506dd5de884fa20e2976#Unit1 Vulpes vulpes (Linn…  1         60.11016  25.01864</span></span>
<span><span class="co">#&gt; 5  …KE.176/648802d6d5de884fa20e290d#Unit1 Vulpes vulpes (Linn…  1         60.11016  25.01864</span></span>
<span><span class="co">#&gt; 6  …KE.176/648802c7d5de884fa20e290c#Unit1 Vulpes vulpes (Linn…  1         60.11016  25.01864</span></span>
<span><span class="co">#&gt; 7                    …HR.3211/167167234-U Vulpes vulpes (Linn…        NA  60.20261  24.86879</span></span>
<span><span class="co">#&gt; 8                    …HR.3211/166968734-U Vulpes vulpes (Linn…        NA  60.5      21.9    </span></span>
<span><span class="co">#&gt; 9                    …HR.3211/166944731-U Vulpes vulpes (Linn…        NA  60.17493  24.74123</span></span>
<span><span class="co">#&gt; 10 …KE.176/64869a52d5de884fa20e28ae#Unit1 Vulpes vulpes (Linn…  1         60.23885  25.12012</span></span>
<span><span class="co">#&gt; ...with 0 more record and 7 more variables:</span></span>
<span><span class="co">#&gt; date_time, coordinates_uncertainty, any_issues, requires_verification, requires_identification,</span></span>
<span><span class="co">#&gt; record_reliability, record_quality</span></span></code></pre></div>
</details><p><br></p>
<p>By setting the argument, <code>on_check_fail</code> to
<code>"error"</code> (the default is <code>"warn"</code>), you can
elevate the warnings to errors and the request will fail if any of the
taxa are not found in the FinBIF database.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/finbif_occurrence.html">finbif_occurrence</a></span><span class="op">(</span><span class="st">"Vulpes vulpes"</span>, <span class="st">"Moomin"</span>, on_check_fail <span class="op">=</span> <span class="st">"error"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error: Cannot find the following taxa in the FinBIF taxonomy.</span></span>
<span><span class="co">#&gt; Please check you are using accepted names and not synonyms or</span></span>
<span><span class="co">#&gt; other names for the taxa you are selecting:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Moomin</span></span></code></pre></div>
<p>This can be a useful strategy if you are using <a href="https://github.com/luomus/finbif" class="external-link">finbif</a>
non-interactively (in a script), and you do not want to proceed if any
of your taxon names are wrong or misspelled.</p>
</div>
<div class="section level2">
<h2 id="aggregating-records">Aggregating records<a class="anchor" aria-label="anchor" href="#aggregating-records"></a>
</h2>
<p>You can request records in aggregate using the <code>aggregate</code>
argument to <code>finbif_occurrence</code>. Aggregated requests will
return counts for the combination of the <code>variables</code> you
specify with the <code>select</code> argument. You can request counts of
<code>"records"</code>, <code>"species"</code> or <code>"taxa"</code> by
using the corresponding string as the value for the
<code>aggregate</code> argument. Aggregating by <code>"species"</code>
will count the number of unique species identifiers for a set of records
grouped by the combination of selected variables. Note that this count
will not include records of taxa that do not have species identifiers,
including records of higher taxa (e.g., genus only records), records of
the non-species children of aggregate or complex taxa, and hybrid taxa.
Therefore, in some contexts the results returned will be an
underestimate of species richness. Likewise, aggregating by
<code>"taxa"</code>, which returns a count the number of unique taxon
identifiers, could represent an overestimate of the number of taxa as
records of higher taxa will contribute to the count while their true
identify may be a duplicate of other records.</p>
<p>To illustrate, you can count the number of moths and butterflies by
municipality with the following:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/finbif_occurrence.html">finbif_occurrence</a></span><span class="op">(</span><span class="st">"Lepidoptera"</span>, select <span class="op">=</span> <span class="st">"municipality"</span>, aggregate <span class="op">=</span> <span class="st">"species"</span><span class="op">)</span></span></code></pre></div>
<details closed><summary>
Click to show/hide output.
</summary><div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co">#&gt; Records downloaded: 10</span></span>
<span><span class="co">#&gt; Records available: 309</span></span>
<span><span class="co">#&gt; A data.frame [10 x 2]</span></span>
<span><span class="co">#&gt;    municipality n_species</span></span>
<span><span class="co">#&gt; 1     Raasepori  2038    </span></span>
<span><span class="co">#&gt; 2     Virolahti  1978    </span></span>
<span><span class="co">#&gt; 3       Kouvola  1508    </span></span>
<span><span class="co">#&gt; 4      Rääkkylä  1367    </span></span>
<span><span class="co">#&gt; 5   Kemiönsaari  2008    </span></span>
<span><span class="co">#&gt; 6         Hanko  1945    </span></span>
<span><span class="co">#&gt; 7      Parainen  1858    </span></span>
<span><span class="co">#&gt; 8      Helsinki  1980    </span></span>
<span><span class="co">#&gt; 9        Kuopio  1345    </span></span>
<span><span class="co">#&gt; 10        Kotka  1719    </span></span></code></pre></div>
</details><p><br></p>
</div>
<div class="section level2">
<h2 id="time-duration">Time &amp; duration<a class="anchor" aria-label="anchor" href="#time-duration"></a>
</h2>
<p>The default behaviour of <code>finbif_occurrence</code> is to
consolidate date and time data for occurrence recording events into a
<code>date_time</code> variable. This can be turned off (which can speed
up data processing time) by deselecting the <code>date_time</code>
variable.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/finbif_occurrence.html">finbif_occurrence</a></span><span class="op">(</span>select <span class="op">=</span> <span class="st">"-date_time"</span><span class="op">)</span></span></code></pre></div>
<details closed><summary>
Click to show/hide output.
</summary><div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co">#&gt; Records downloaded: 10</span></span>
<span><span class="co">#&gt; Records available: 47159747</span></span>
<span><span class="co">#&gt; A data.frame [10 x 11]</span></span>
<span><span class="co">#&gt;                                 record_id      scientific_name abundance lat_wgs84 lon_wgs84</span></span>
<span><span class="co">#&gt; 1  …KE.176/64895825d5de884fa20e297d#Unit1 Heracleum persicum …        NA  61.08302  22.38983</span></span>
<span><span class="co">#&gt; 2                           …JX.1594382#9 Hirundo rustica Lin…        NA  64.12716  23.99111</span></span>
<span><span class="co">#&gt; 3                          …JX.1594382#37 Pica pica (Linnaeus…        NA  64.12716  23.99111</span></span>
<span><span class="co">#&gt; 4                          …JX.1594382#49 Muscicapa striata (…        NA  64.12716  23.99111</span></span>
<span><span class="co">#&gt; 5                          …JX.1594382#39 Larus canus Linnaeu…        NA  64.12716  23.99111</span></span>
<span><span class="co">#&gt; 6                           …JX.1594382#5 Emberiza citrinella…        NA  64.12716  23.99111</span></span>
<span><span class="co">#&gt; 7                          …JX.1594382#31 Ficedula hypoleuca …        NA  64.12716  23.99111</span></span>
<span><span class="co">#&gt; 8                          …JX.1594382#41 Alauda arvensis Lin…        NA  64.12716  23.99111</span></span>
<span><span class="co">#&gt; 9                          …JX.1594382#21 Numenius arquata (L…        NA  64.12716  23.99111</span></span>
<span><span class="co">#&gt; 10                         …JX.1594382#29 Dendrocopos major (…        NA  64.12716  23.99111</span></span>
<span><span class="co">#&gt; ...with 0 more record and 6 more variables:</span></span>
<span><span class="co">#&gt; coordinates_uncertainty, any_issues, requires_verification, requires_identification,</span></span>
<span><span class="co">#&gt; record_reliability, record_quality</span></span></code></pre></div>
</details><p><br></p>
<div class="section level3">
<h3 id="timezone">Timezone<a class="anchor" aria-label="anchor" href="#timezone"></a>
</h3>
<div class="section level4">
<h4 id="timezone-input">Timezone input<a class="anchor" aria-label="anchor" href="#timezone-input"></a>
</h4>
<p>The FinBIF database doesn’t currently store timezone information, so
<a href="https://github.com/luomus/finbif" class="external-link">finbif</a> makes assumptions about the appropriate timezone
based on the time and location of the occurrence recording events to
calculate <code>date_time</code> and <code>duration</code>. By default,
a fast heuristic is used to determine the timezones. If you require
greater accuracy (e.g., you are using data on the Finnish/Swedish border
and daytime/nighttime hours are important), you can switch to more
accurate, though slower, timezone calculation method.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/finbif_occurrence.html">finbif_occurrence</a></span><span class="op">(</span>date_time_method <span class="op">=</span> <span class="st">"accurate"</span><span class="op">)</span></span></code></pre></div>
<details closed><summary>
Click to show/hide output.
</summary><div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co">#&gt; Records downloaded: 10</span></span>
<span><span class="co">#&gt; Records available: 47159747</span></span>
<span><span class="co">#&gt; A data.frame [10 x 12]</span></span>
<span><span class="co">#&gt;                                 record_id      scientific_name abundance lat_wgs84 lon_wgs84</span></span>
<span><span class="co">#&gt; 1  …KE.176/64895825d5de884fa20e297d#Unit1 Heracleum persicum …        NA  61.08302  22.38983</span></span>
<span><span class="co">#&gt; 2                           …JX.1594382#9 Hirundo rustica Lin…        NA  64.12716  23.99111</span></span>
<span><span class="co">#&gt; 3                          …JX.1594382#37 Pica pica (Linnaeus…        NA  64.12716  23.99111</span></span>
<span><span class="co">#&gt; 4                          …JX.1594382#49 Muscicapa striata (…        NA  64.12716  23.99111</span></span>
<span><span class="co">#&gt; 5                          …JX.1594382#39 Larus canus Linnaeu…        NA  64.12716  23.99111</span></span>
<span><span class="co">#&gt; 6                           …JX.1594382#5 Emberiza citrinella…        NA  64.12716  23.99111</span></span>
<span><span class="co">#&gt; 7                          …JX.1594382#31 Ficedula hypoleuca …        NA  64.12716  23.99111</span></span>
<span><span class="co">#&gt; 8                          …JX.1594382#41 Alauda arvensis Lin…        NA  64.12716  23.99111</span></span>
<span><span class="co">#&gt; 9                          …JX.1594382#21 Numenius arquata (L…        NA  64.12716  23.99111</span></span>
<span><span class="co">#&gt; 10                         …JX.1594382#29 Dendrocopos major (…        NA  64.12716  23.99111</span></span>
<span><span class="co">#&gt; ...with 0 more record and 7 more variables:</span></span>
<span><span class="co">#&gt; date_time, coordinates_uncertainty, any_issues, requires_verification, requires_identification,</span></span>
<span><span class="co">#&gt; record_reliability, record_quality</span></span></code></pre></div>
</details><p><br></p>
</div>
<div class="section level4">
<h4 id="timezone-output">Timezone output<a class="anchor" aria-label="anchor" href="#timezone-output"></a>
</h4>
<p>The timezone of the calculated <code>date_time</code> variable is
determined by the timezone of your operating system.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/timezones.html" class="external-link">Sys.timezone</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>You can override this by setting the <code>tzone</code> argument to a
different value.</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/finbif_occurrence.html">finbif_occurrence</a></span><span class="op">(</span>tzone <span class="op">=</span> <span class="st">"Etc/UTC"</span><span class="op">)</span></span></code></pre></div>
<details closed><summary>
Click to show/hide output.
</summary><div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co">#&gt; Records downloaded: 10</span></span>
<span><span class="co">#&gt; Records available: 47159747</span></span>
<span><span class="co">#&gt; A data.frame [10 x 12]</span></span>
<span><span class="co">#&gt;                                 record_id      scientific_name abundance lat_wgs84 lon_wgs84</span></span>
<span><span class="co">#&gt; 1  …KE.176/64895825d5de884fa20e297d#Unit1 Heracleum persicum …        NA  61.08302  22.38983</span></span>
<span><span class="co">#&gt; 2                           …JX.1594382#9 Hirundo rustica Lin…        NA  64.12716  23.99111</span></span>
<span><span class="co">#&gt; 3                          …JX.1594382#37 Pica pica (Linnaeus…        NA  64.12716  23.99111</span></span>
<span><span class="co">#&gt; 4                          …JX.1594382#49 Muscicapa striata (…        NA  64.12716  23.99111</span></span>
<span><span class="co">#&gt; 5                          …JX.1594382#39 Larus canus Linnaeu…        NA  64.12716  23.99111</span></span>
<span><span class="co">#&gt; 6                           …JX.1594382#5 Emberiza citrinella…        NA  64.12716  23.99111</span></span>
<span><span class="co">#&gt; 7                          …JX.1594382#31 Ficedula hypoleuca …        NA  64.12716  23.99111</span></span>
<span><span class="co">#&gt; 8                          …JX.1594382#41 Alauda arvensis Lin…        NA  64.12716  23.99111</span></span>
<span><span class="co">#&gt; 9                          …JX.1594382#21 Numenius arquata (L…        NA  64.12716  23.99111</span></span>
<span><span class="co">#&gt; 10                         …JX.1594382#29 Dendrocopos major (…        NA  64.12716  23.99111</span></span>
<span><span class="co">#&gt; ...with 0 more record and 7 more variables:</span></span>
<span><span class="co">#&gt; date_time, coordinates_uncertainty, any_issues, requires_verification, requires_identification,</span></span>
<span><span class="co">#&gt; record_reliability, record_quality</span></span></code></pre></div>
</details><p><br></p>
<p>Or set the global timezone option to set the timezone for the current
session.</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>finbif_tz <span class="op">=</span> <span class="st">"Etc/UTC"</span><span class="op">)</span></span></code></pre></div>
<p>This may be advisable for reproducibility or when working with
multiple systems.</p>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by William K. Morris.</p>
</div>
<div class="pkgdown-footer-left">
  <p></p>
  <p><a class="external-link" href="https://www.netlify.com"><img src="https://www.netlify.com/img/global/badges/netlify-light.svg" alt="Deploys by Netlify"></a></p>
</div>
<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
